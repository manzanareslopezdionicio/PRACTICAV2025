{% extends 'baseadmin.html' %}

{% block title %}Panel de Administración{% endblock %}

{% block body %}

<!--MENSAJE DE ALERTA SweetAlert2 CONFIRMACION-->
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<ul class=flashes>
    {% for category, message in messages %}
    <script type="text/javascript">

        const Toast = Swal.mixin({
            toast: true,
            position: "top-end",
            showConfirmButton: false,
            timer: 2000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.onmouseenter = Swal.stopTimer;
                toast.onmouseleave = Swal.resumeTimer;
            }
        });
        Toast.fire({
            icon: "success",
            title: "{{message}}"
        });

    </script>
    {% endfor %}
</ul>
{% endif %}
{% endwith %}

<!--MENSAJE DE ALERTA PARA ELIMINACION SweetAlert2-->
<script>
    function confirmarEliminacion(url) {
        Swal.fire({
            title: '¿Estás seguro?',
            text: "¡No podrás revertir esto!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Sí, eliminar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = url;
            }
        });
    }
</script>

<style>
    /* Hover para las cards: ligera elevación, zoom y transición suave */
    .card-hover {
        transition: transform 0.18s ease, box-shadow 0.18s ease;
        cursor: default;
    }

    .card-hover:hover {
        transform: translateY(-6px) scale(1.01);
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.18), 0 4px 8px rgba(0, 0, 0, 0.08);
        cursor: pointer;
    }

    /* Opcional: cambiar el color del título al hacer hover */
    .card-hover:hover .card-title {
        color: #0747a6;
        /* ajusta el color según tu paleta */
    }
</style>

<div class="container p-5 mt-3">
    <h2 class=" text-center alert alert-danger py-4">Sistema de Gestión de Productos</h2>
    <div class="row">
        <div class="row text-center">
            <!-- Card para el perfil del usuario -->
            <div class="col-sm-4 mb-3 mb-sm-0">
                <div class="card card-hover" style="background: linear-gradient(180deg, #355e3b, #7a9f7a, #f1eeda);">
                    <div class="row g-0">
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="card-body text-white">
                                    <h5 class="card-title">Perfil del Usuario</h5>
                                    <h2 class="fw-bold">{{ total_usuarios }} Usuarios</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 align-content-center">
                            <img src="{{ url_for('static', filename='img/user.png') }}" class="img-fluid rounded-start"
                                alt="Agregar Usuario ...">
                        </div>
                        <div class="d-grid gap-2 mb-3 px-3">
                            <a href="{{ url_for('listar')}}" class="btn btn-outline-success btn-lg">Ver
                                Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card para registrar productos -->
            <div class="col-sm-4 mb-3 mb-sm-0">
                <div class="card card-hover" style="background: linear-gradient(180deg, #042bf1,#367cd9,#ffffff);">
                    <div class="row g-0">
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="card-body text-white">
                                    <h5 class="card-title">Registrar Productos</h5>
                                    <h2 class="fw-bold">{{ total_productos }} Productos</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 align-content-center">
                            <a href="{{ url_for('listar_productos_agregados') }}">
                                <img src="{{ url_for('static', filename='img/agregarP.png') }}"
                                    class="img-fluid rounded-start" alt="..."></a>
                        </div>
                        <div class="d-grid gap-2 mb-3 px-3">
                            <a href="{{ url_for('listar_productos_agregados') }}"
                                class="btn btn-outline-success btn-lg">Ver
                                Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card para visualizar productos -->
            <div class="col-sm-4 mb-3 mb-sm-0">
                <div class="card card-hover" style="background: linear-gradient(180deg, #0b235c,#3d85a9,#e0f7ff);">
                    <div class="row g-0">
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="card-body text-white">
                                    <h5 class="card-title">Visualizar Productos</h5>
                                    <!--  <h2 class="fw-bold">{{ total_productos }} Productos</h2>-->
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3 align-content-center">
                            <a href="{{ url_for('listar_productos') }}">
                                <img src="{{ url_for('static', filename='img/listarp.png') }}"
                                    class="img-fluid rounded-start" alt="..."></a>
                        </div>
                        <div class="d-grid gap-2 mb-3 px-3">
                            <a href="{{ url_for('listar_productos') }}" class="btn btn-outline-success btn-lg">Ver
                                Detalles</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}